{
  "version": 3,
  "sources": ["../../src/scheduler/UniversalTriggerScheduler.ts"],
  "sourcesContent": ["import type { LoggingService } from \"../types/LoggingService\";\nimport type { Trigger } from \"../types/Trigger\";\nimport { TriggerScheduler } from \"./TriggerScheduler\";\n\n/**\n * UniversalTriggerScheduler\n */\nexport class UniversalTriggerScheduler extends TriggerScheduler {\n    private readonly schedulers: TriggerScheduler[];\n    /**\n     * @param schedulers TriggerScheduler\n     * @param logger Log service\n     */\n    constructor(\n        schedulers: TriggerScheduler[],\n        private readonly logger: LoggingService,\n    ) {\n        super();\n        this.schedulers = schedulers;\n    }\n\n    /**\n     * @param trigger Trigger\n     */\n    public register(trigger: Trigger): void {\n        const scheduler = this.schedulers.find(s => s.forType() === trigger.constructor.name);\n        if (scheduler) {\n            return scheduler.register(trigger);\n        }\n        throw new Error(`Register - No scheduler for trigger of type ${trigger.constructor.name} found`);\n    }\n\n    /**\n     * @param trigger Trigger\n     */\n    public unregister(trigger: Trigger): void {\n        const scheduler = this.schedulers.find(s => s.forType() === trigger.constructor.name);\n        if (scheduler) {\n            return scheduler.unregister(trigger);\n        }\n        throw new Error(`Unregister - No scheduler for trigger of type ${trigger.constructor.name} found`);\n    }\n\n    /**\n     * loadregister\n     */\n    public loadregister(): void {\n        for (const r of this.schedulers) {\n            this.logger.logDebug(`Start UniversalTriggerScheduler ${r.forType()}`);\n            r.loadregister();\n        }\n    }\n\n    /**\n     * destroy\n     */\n    public destroy(): void {\n        this.schedulers.forEach(s => s.destroy());\n    }\n\n    /**\n     * forType\n     *\n     * @returns string\n     */\n    public forType(): string {\n        return \"Universal\";\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,8BAAiC;AAK1B,MAAM,kCAAkC,yCAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,EAM5D,YACI,YACiB,QACnB;AACE,UAAM;AAFW;AAGjB,SAAK,aAAa;AAAA,EACtB;AAAA,EAXiB;AAAA;AAAA;AAAA;AAAA,EAgBV,SAAS,SAAwB;AACpC,UAAM,YAAY,KAAK,WAAW,KAAK,OAAK,EAAE,QAAQ,MAAM,QAAQ,YAAY,IAAI;AACpF,QAAI,WAAW;AACX,aAAO,UAAU,SAAS,OAAO;AAAA,IACrC;AACA,UAAM,IAAI,MAAM,+CAA+C,QAAQ,YAAY,IAAI,QAAQ;AAAA,EACnG;AAAA;AAAA;AAAA;AAAA,EAKO,WAAW,SAAwB;AACtC,UAAM,YAAY,KAAK,WAAW,KAAK,OAAK,EAAE,QAAQ,MAAM,QAAQ,YAAY,IAAI;AACpF,QAAI,WAAW;AACX,aAAO,UAAU,WAAW,OAAO;AAAA,IACvC;AACA,UAAM,IAAI,MAAM,iDAAiD,QAAQ,YAAY,IAAI,QAAQ;AAAA,EACrG;AAAA;AAAA;AAAA;AAAA,EAKO,eAAqB;AACxB,eAAW,KAAK,KAAK,YAAY;AAC7B,WAAK,OAAO,SAAS,mCAAmC,EAAE,QAAQ,CAAC,EAAE;AACrE,QAAE,aAAa;AAAA,IACnB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKO,UAAgB;AACnB,SAAK,WAAW,QAAQ,OAAK,EAAE,QAAQ,CAAC;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAkB;AACrB,WAAO;AAAA,EACX;AACJ;",
  "names": []
}
