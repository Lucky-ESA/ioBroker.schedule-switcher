{
  "version": 3,
  "sources": ["../../src/triggers/AstroTrigger.ts"],
  "sourcesContent": ["import { Action } from \"../actions/Action\";\nimport { AstroTime } from \"./AstroTime\";\nimport { BaseDailyTrigger } from \"./BaseDailyTrigger\";\nimport { Weekday } from \"./Weekday\";\n\nexport class AstroTrigger extends BaseDailyTrigger {\n    public static readonly MAX_SHIFT = 120;\n    private readonly astroTime: AstroTime;\n    private readonly shiftInMinutes: number;\n    private readonly objectId: number;\n    private readonly todayTrigger: any;\n\n    constructor(\n        id: string,\n        astroTime: AstroTime,\n        shiftInMinutes: number,\n        weekdays: Weekday[],\n        action: Action,\n        objectId: number,\n        todayTrigger: any,\n    ) {\n        super(id, action, weekdays);\n        if (astroTime == null) {\n            throw new Error(\"Astro time may not be null.\");\n        }\n        if (\n            shiftInMinutes == null ||\n            shiftInMinutes > AstroTrigger.MAX_SHIFT ||\n            shiftInMinutes < -AstroTrigger.MAX_SHIFT\n        ) {\n            throw new Error(\"Shift in minutes must be in range -120 to 120.\");\n        }\n        this.astroTime = astroTime;\n        this.shiftInMinutes = shiftInMinutes;\n        this.objectId = objectId;\n        this.todayTrigger = todayTrigger;\n    }\n\n    public getAstroTime(): AstroTime {\n        return this.astroTime;\n    }\n\n    public getData(): any {\n        return {\n            id: this.getId(),\n            astroTime: this.getAstroTime(),\n            shift: this.getShiftInMinutes(),\n            todayTriger: this.getTodayTrigger(),\n            objectId: this.getObjectId(),\n            weekdays: [this.getWeekdays()],\n            trigger: \"AstroTrigger\",\n        };\n    }\n\n    public getObjectId(): number {\n        return this.objectId;\n    }\n\n    public getTodayTrigger(): any {\n        return this.todayTrigger;\n    }\n\n    public getShiftInMinutes(): number {\n        return this.shiftInMinutes;\n    }\n\n    public toString(): string {\n        return (\n            `AstroTrigger {id=${this.getId()}, objectId=${this.getObjectId()}, todayTrigger=${JSON.stringify(this.getTodayTrigger())},` +\n            ` astroTime=${this.getAstroTime()}, shift=${this.getShiftInMinutes()}, weekdays=[${this.getWeekdays()}]}`\n        );\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,8BAAiC;AAG1B,MAAM,qBAAqB,yCAAiB;AAAA,EAC/C,OAAuB,YAAY;AAAA,EAClB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEjB,YACI,IACA,WACA,gBACA,UACA,QACA,UACA,cACF;AACE,UAAM,IAAI,QAAQ,QAAQ;AAC1B,QAAI,aAAa,MAAM;AACnB,YAAM,IAAI,MAAM,6BAA6B;AAAA,IACjD;AACA,QACI,kBAAkB,QAClB,iBAAiB,aAAa,aAC9B,iBAAiB,CAAC,aAAa,WACjC;AACE,YAAM,IAAI,MAAM,gDAAgD;AAAA,IACpE;AACA,SAAK,YAAY;AACjB,SAAK,iBAAiB;AACtB,SAAK,WAAW;AAChB,SAAK,eAAe;AAAA,EACxB;AAAA,EAEO,eAA0B;AAC7B,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,UAAe;AAClB,WAAO;AAAA,MACH,IAAI,KAAK,MAAM;AAAA,MACf,WAAW,KAAK,aAAa;AAAA,MAC7B,OAAO,KAAK,kBAAkB;AAAA,MAC9B,aAAa,KAAK,gBAAgB;AAAA,MAClC,UAAU,KAAK,YAAY;AAAA,MAC3B,UAAU,CAAC,KAAK,YAAY,CAAC;AAAA,MAC7B,SAAS;AAAA,IACb;AAAA,EACJ;AAAA,EAEO,cAAsB;AACzB,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,kBAAuB;AAC1B,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,oBAA4B;AAC/B,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,WAAmB;AACtB,WACI,oBAAoB,KAAK,MAAM,CAAC,cAAc,KAAK,YAAY,CAAC,kBAAkB,KAAK,UAAU,KAAK,gBAAgB,CAAC,CAAC,eAC1G,KAAK,aAAa,CAAC,WAAW,KAAK,kBAAkB,CAAC,eAAe,KAAK,YAAY,CAAC;AAAA,EAE7G;AACJ;",
  "names": []
}
