{
  "version": 3,
  "sources": ["../../src/actions/ConditionAction.ts"],
  "sourcesContent": ["import type { LoggingService } from \"../services/LoggingService\";\nimport type { Action } from \"./Action\";\nimport type { Condition } from \"./conditions/Condition\";\n\n/**\n * ConditionAction\n */\nexport class ConditionAction implements Action {\n    private readonly condition: Condition;\n    private action: Action;\n\n    /**\n     * @param condition Condition\n     * @param action Action\n     * @param logger Logs\n     */\n    constructor(\n        condition: Condition,\n        action: Action,\n        private logger: LoggingService,\n    ) {\n        this.logger = logger;\n        if (condition == null) {\n            this.logger.logError(\"condition may not be null or undefined\");\n        }\n        if (action == null) {\n            this.logger.logError(\"action may not be null or undefined\");\n        }\n        this.condition = condition;\n        this.action = action;\n    }\n\n    /**\n     * getAction\n     */\n    public getAction(): Action {\n        return this.action;\n    }\n\n    /**\n     * @param action Action\n     */\n    public setAction(action: Action): void {\n        if (action == null) {\n            this.logger.logError(\"action may not be null or undefined\");\n            return;\n        }\n        this.action = action;\n    }\n\n    /**\n     * getCondition\n     */\n    public getCondition(): Condition {\n        return this.condition;\n    }\n\n    /**\n     * execute\n     */\n    public execute(): void {\n        this.condition\n            .evaluate()\n            .then(result => {\n                if (result) {\n                    this.logger.logDebug(`Executing action because condition ${this.condition} evaluated to true`);\n                    this.action.execute(false);\n                } else {\n                    this.logger.logDebug(`Not executing action because condition ${this.condition} evaluated to false`);\n                }\n            })\n            .catch(e => {\n                this.logger.logError(`Error while evaluating condition: ${this.condition} - ${e}`);\n            });\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAOO,MAAM,gBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAS3C,YACI,WACA,QACQ,QACV;AADU;AAER,SAAK,SAAS;AACd,QAAI,aAAa,MAAM;AACnB,WAAK,OAAO,SAAS,wCAAwC;AAAA,IACjE;AACA,QAAI,UAAU,MAAM;AAChB,WAAK,OAAO,SAAS,qCAAqC;AAAA,IAC9D;AACA,SAAK,YAAY;AACjB,SAAK,SAAS;AAAA,EAClB;AAAA,EAtBiB;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EA0BD,YAAoB;AACvB,WAAO,KAAK;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKO,UAAU,QAAsB;AACnC,QAAI,UAAU,MAAM;AAChB,WAAK,OAAO,SAAS,qCAAqC;AAC1D;AAAA,IACJ;AACA,SAAK,SAAS;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA,EAKO,eAA0B;AAC7B,WAAO,KAAK;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKO,UAAgB;AACnB,SAAK,UACA,SAAS,EACT,KAAK,YAAU;AACZ,UAAI,QAAQ;AACR,aAAK,OAAO,SAAS,sCAAsC,KAAK,SAAS,oBAAoB;AAC7F,aAAK,OAAO,QAAQ,KAAK;AAAA,MAC7B,OAAO;AACH,aAAK,OAAO,SAAS,0CAA0C,KAAK,SAAS,qBAAqB;AAAA,MACtG;AAAA,IACJ,CAAC,EACA,MAAM,OAAK;AACR,WAAK,OAAO,SAAS,qCAAqC,KAAK,SAAS,MAAM,CAAC,EAAE;AAAA,IACrF,CAAC;AAAA,EACT;AACJ;",
  "names": []
}
