{
  "version": 3,
  "sources": ["../../src/actions/ConditionAction.ts"],
  "sourcesContent": ["import { Action } from \"./Action\";\nimport { Condition } from \"./conditions/Condition\";\n\nexport class ConditionAction implements Action {\n    private readonly condition: Condition;\n    private action: Action;\n\n    constructor(\n        condition: Condition,\n        action: Action,\n        private adapter: ioBroker.Adapter,\n    ) {\n        if (condition == null) {\n            this.adapter.log.error(\"condition may not be null or undefined\");\n        }\n        if (action == null) {\n            this.adapter.log.error(\"action may not be null or undefined\");\n        }\n        this.condition = condition;\n        this.action = action;\n    }\n\n    public getAction(): Action {\n        return this.action;\n    }\n\n    public setAction(action: Action): void {\n        if (action == null) {\n            this.adapter.log.error(\"action may not be null or undefined\");\n            return;\n        }\n        this.action = action;\n    }\n\n    public getCondition(): Condition {\n        return this.condition;\n    }\n\n    public execute(): void {\n        this.condition\n            .evaluate()\n            .then((result) => {\n                if (result) {\n                    this.adapter.log.debug(`Executing action because condition ${this.condition} evaluated to true`);\n                    this.action.execute();\n                } else {\n                    this.adapter.log.debug(\n                        `Not executing action because condition ${this.condition} evaluated to false`,\n                    );\n                }\n            })\n            .catch((e) => {\n                this.adapter.log.error(`Error while evaluating condition: ${this.condition} - ${e}`);\n            });\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGO,MAAM,gBAAkC;AAAA,EAI3C,YACI,WACA,QACQ,SACV;AADU;AAER,QAAI,aAAa,MAAM;AACnB,WAAK,QAAQ,IAAI,MAAM,wCAAwC;AAAA,IACnE;AACA,QAAI,UAAU,MAAM;AAChB,WAAK,QAAQ,IAAI,MAAM,qCAAqC;AAAA,IAChE;AACA,SAAK,YAAY;AACjB,SAAK,SAAS;AAAA,EAClB;AAAA,EAhBiB;AAAA,EACT;AAAA,EAiBD,YAAoB;AACvB,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,UAAU,QAAsB;AACnC,QAAI,UAAU,MAAM;AAChB,WAAK,QAAQ,IAAI,MAAM,qCAAqC;AAC5D;AAAA,IACJ;AACA,SAAK,SAAS;AAAA,EAClB;AAAA,EAEO,eAA0B;AAC7B,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,UAAgB;AACnB,SAAK,UACA,SAAS,EACT,KAAK,CAAC,WAAW;AACd,UAAI,QAAQ;AACR,aAAK,QAAQ,IAAI,MAAM,sCAAsC,KAAK,SAAS,oBAAoB;AAC/F,aAAK,OAAO,QAAQ;AAAA,MACxB,OAAO;AACH,aAAK,QAAQ,IAAI;AAAA,UACb,0CAA0C,KAAK,SAAS;AAAA,QAC5D;AAAA,MACJ;AAAA,IACJ,CAAC,EACA,MAAM,CAAC,MAAM;AACV,WAAK,QAAQ,IAAI,MAAM,qCAAqC,KAAK,SAAS,MAAM,CAAC,EAAE;AAAA,IACvF,CAAC;AAAA,EACT;AACJ;",
  "names": []
}
